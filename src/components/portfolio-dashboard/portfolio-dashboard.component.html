<div class="h-full flex flex-col gap-6 p-6 overflow-y-auto">
  <!-- Section 1: Wealth Header - Net Worth, P&L, and Rebalancing Carousel -->
  <div class="flex flex-col lg:flex-row lg:items-start gap-6 flex-shrink-0 pb-4 border-b border-gray-50">
    <!-- Left: Net Worth (Dominant) -->
    <div class="flex-shrink-0">
      <div class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-2">Net Worth</div>
      <div class="text-4xl font-mono font-bold tracking-tight text-gray-900">
        {{ netWorth() | currency:'EUR':'symbol':'1.2-2' }}
      </div>
    </div>

    <!-- Middle: All-Time P&L -->
    <div class="flex-shrink-0">
      <div class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-1">All-Time P&L</div>
      <div class="font-mono text-xl font-medium" [class]="absolutePnL() >= 0 ? 'text-emerald-600' : 'text-rose-600'">
        {{ absolutePnL() >= 0 ? '+' : '' }}{{ absolutePnL() | currency:'EUR':'symbol':'1.2-2' }}
        <span class="text-sm">({{ percentPnL() | number:'1.2-2' }}%)</span>
      </div>
    </div>

    <!-- Right: Rebalancing Actions Carousel (pushed to end) -->
    <div class="flex-1 lg:flex lg:justify-end">
      <div class="w-full lg:max-w-sm">
        <app-rebalancing-widget />
      </div>
    </div>
  </div>

  <!-- Section 2: Upcoming Payouts -->
  <div class="w-full flex-shrink-0 pb-4 border-b border-gray-50 flex justify-end">
    <div class="w-full lg:w-1/2 flex flex-col gap-2 min-h-0 overflow-hidden" style="height: 100%;">
      <div class="flex-shrink-0">
        <div class="text-xs font-bold text-gray-400 uppercase tracking-widest mb-2">Upcoming Payouts</div>
      </div>
      <div class="flex-1 min-h-0 flex flex-col overflow-hidden" style="position: relative;">
        <app-passive-income-calendar [portfolio]="portfolio()" />
      </div>
    </div>
  </div>
</div>
